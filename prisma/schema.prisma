datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id            String   @id @default(cuid())
  name          String?
  email         String?  @unique
  emailVerified DateTime?
  image         String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  parties       Party[]
  rsvps         RSVP[]
}

model Party {
  id               String   @id @default(cuid())
  name             String
  date             DateTime
  maxGuests        Int
  maleRatio        Int?
  femaleRatio      Int?
  entryType        String
  alcoholRequests  Boolean
  host             User     @relation(fields: [hostId], references: [id])
  hostId           String
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  rsvps            RSVP[]
  description      String?
}

model RSVP {
  id             String   @id @default(cuid())
  user           User     @relation(fields: [userId], references: [id])
  userId         String
  party          Party    @relation(fields: [partyId], references: [id])
  partyId        String
  alcoholRequest String?
  suggestion     String?
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

